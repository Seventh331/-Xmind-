[Uploading HierViz-Enterprise.mdâ€¦]()
# HierViz-Enterprise  
> è¯»ä¸€ä»½ã€Œä¼ä¸šçº§æ¬¡ã€CSVï¼Œè‡ªåŠ¨ç”Ÿæˆé«˜æ¸…æ¨ªå‘å±‚çº§å…³ç³»å›¾ï¼ˆGraphvizï¼‰

---

## ðŸš€ 1 åˆ†é’Ÿè·‘èµ·æ¥
```bash
git clone git@github.com:Seventh331/-Xmind-.git
cd -Xmind-
pip install -r requirements.txt    # è‹¥å·²è£…å¯è·³è¿‡
python HierViz.py
```

## ðŸ“¦ ä¾èµ–åˆ—è¡¨

| åº“           | å®‰è£…å‘½ä»¤               | ç‰ˆæœ¬ç¤ºä¾‹ | ä½œç”¨è¯´æ˜Ž                                                     |
| ------------ | ---------------------- | -------- | ------------------------------------------------------------ |
| **graphviz** | `pip install graphviz` | â‰¥0.20    | Python æŽ¥å£ï¼šæŠŠèŠ‚ç‚¹/è¾¹å¯¹è±¡æ¸²æŸ“æˆ `.png / .pdf` ç­‰æ–‡ä»¶        |
| **chardet**  | `pip install chardet`  | â‰¥5.0     | ç¼–ç å—…æŽ¢ï¼šè‡ªåŠ¨è¯†åˆ« CSV æ–‡ä»¶ç¼–ç ï¼ˆGBK / UTF-8 / ISO-8859-1â€¦ï¼‰ |
| **csv**      | å†…ç½®ï¼Œæ— éœ€å®‰è£…         | â€”        | æ ‡å‡†åº“ï¼šé€è¡Œè¯»å– CSV æ–‡ä»¶ï¼Œæ”¯æŒåˆ†éš”ç¬¦ã€å¼•å·ã€è½¬ä¹‰            |

> è¿˜éœ€åœ¨ç³»ç»Ÿé‡Œå®‰è£… **Graphviz å¯æ‰§è¡Œæ–‡ä»¶** æ‰èƒ½ç”Ÿæˆå›¾ç‰‡  
> - macOS: `brew install graphviz`  
>
> - Windows: ä¸‹è½½ [Graphviz å®‰è£…åŒ…](https://graphviz.org/download/) å¹¶æŠŠ `bin` ç›®å½•åŠ å…¥ PATH
>
> - ä¸‹é¢ç”¨ã€Œæ–‡ä»¶é•¿ä»€ä¹ˆæ · â†’ ä»£ç æ€Žä¹ˆè¯» â†’ æ€Žä¹ˆå˜æ ‘ â†’ æ€Žä¹ˆç”»å›¾ã€4 ä¸ªæ­¥éª¤ï¼ŒæŠŠæ•´ä»¶äº‹ä¸€æ¬¡è®²é€ã€‚  
>   ä½ ç›´æŽ¥å¤åˆ¶ä¸‹é¢çš„ `README_detail.md` åˆ° Typora å³å¯ç”¨ã€‚
>
>   ---
>
>   # HierViz é€è¡Œè¶…è¯¦ç»†è®²è§£
>
>   ---
>
>   ## 1ï¸âƒ£ åŽŸå§‹ CSV åˆ°åº•é•¿ä»€ä¹ˆæ ·ï¼Ÿ
>
>   æŠŠ `ä¼ä¸šçº§æ¬¡æŸ¥è¯¢ 25.06.csv` ç”¨ Excel / Numbers æ‰“å¼€ï¼Œä¼šçœ‹åˆ° 5 åˆ—ï¼Œåˆ†åˆ«æ˜¯ï¼š
>
>   | ä¸€çº§ä¼ä¸š | äºŒçº§ä¼ä¸š | ä¸‰çº§ä¼ä¸š | å››çº§ä¼ä¸š(88æˆ·) | äº”çº§ä¼ä¸š(3æˆ·) |
>   | -------- | -------- | -------- | -------------- | ------------- |
>   | å®è¾¾é›†å›¢ |          |          |                |               |
>   |          | å®è¾¾æŠ•èµ„ |          |                |               |
>   |          |          | å®è¾¾åœ°äº§ |                |               |
>   |          |          |          | å®è¾¾ç‰©ä¸š       |               |
>   |          |          |          |                | å®è¾¾ä¿å®‰      |
>
>   **è§„å¾‹ï¼š**  
>   - **æ¯è¡Œå°±æ˜¯ä¸€æ¡â€œæžå¹²â€**  
>   - **å•å…ƒæ ¼ä¸ºç©º â†’ è¯´æ˜Žè¿™ä¸€çº§æ²¡æœ‰èŠ‚ç‚¹**  
>   - **æ¯å‡ºçŽ°ä¸€æ¬¡éžç©ºå•å…ƒæ ¼ â†’ å°±ç”Ÿå‡ºä¸€ä¸ªæ–°èŠ‚ç‚¹**  
>   - **æ•´ä»½æ–‡ä»¶çš„æ‰€æœ‰è¡Œæ‹¼åœ¨ä¸€èµ·ï¼Œå°±å¾—åˆ°ä¸€ç‰‡æ£®æž—**
>
>   ---
>
>   ## 2ï¸âƒ£ Python è¯»å–æ–‡ä»¶ï¼šè§£å†³ä¹±ç  & æ‹¿åˆ°äºŒç»´åˆ—è¡¨
>
>   ```python
>   with open(CSV_PATH, "rb") as f:
>       enc = chardet.detect(f.read())["encoding"]   # 1ï¸âƒ£ å…ˆæŽ¢æµ‹ç¼–ç 
>   with open(CSV_PATH, encoding=enc) as f:
>       rows = list(csv.reader(f))                   # 2ï¸âƒ£ å†è¯»æˆäºŒç»´ list
>   ```
>
>   - **chardet**ï¼šé˜²æ­¢ GBK/UTF-8/ANSI ä¹±ç ã€‚  
>   - **csv.reader**ï¼šæŠŠæ¯è¡Œå˜æˆ `['ä¸€çº§','äºŒçº§',...]` è¿™æ ·çš„ Python åˆ—è¡¨ã€‚
>
>   è¯»å®Œä»¥åŽ `rows[0]` æ˜¯è¡¨å¤´ï¼Œ**çœŸæ­£æ•°æ®ä»Ž `rows[1:]` å¼€å§‹**ã€‚
>
>   ---
>
>   ## 3ï¸âƒ£ æŠŠäºŒç»´åˆ—è¡¨å˜â€œæ ‘â€çš„æ ¸å¿ƒç®—æ³•
>
>   ç®—æ³•åªç”¨ 1 ä¸ªå˜é‡ï¼š`parents[level] = å½“å‰å±‚æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ id`
>
>   | æ­¥éª¤ | åŠ¨ä½œ                   | ä¾‹å­                              |
>   | ---- | ---------------------- | --------------------------------- |
>   | â‘     | åˆå§‹åŒ–                 | `parents = [root]`                |
>   | â‘¡    | éåŽ†æ¯ä¸€è¡Œçš„æ¯ä¸€æ ¼     |                                   |
>   | â‘¢    | å¦‚æžœæ ¼å­éžç©ºï¼Œæ–°å»ºèŠ‚ç‚¹ | `child = n1`                      |
>   | â‘£    | è¿žåˆ°çˆ¶èŠ‚ç‚¹             | `dot.edge(parents[level], child)` |
>   | â‘¤    | æ›´æ–° parents æ•°ç»„      | `parents[level+1] = child`        |
>
>   ä»£ç å¯¹åº”ç‰‡æ®µï¼ˆå·²åŠ è¡Œå·ï¼‰ï¼š
>
>   ```python
>   parents = [root_id]                  # 43 è¡Œ
>   for row in rows[1:]:                 # 45 è¡Œ
>       for level, cell in enumerate(row):
>           if cell and cell.strip():    # 48 è¡Œï¼šè·³è¿‡ç©ºç™½æ ¼
>               name = cell.strip()
>               parent = parents[level]  # æ‰¾åˆ°çˆ¶èŠ‚ç‚¹ id
>               child  = new_id()        # ç”Ÿæˆæ–°èŠ‚ç‚¹ id
>               dot.node(child, name, ...)   # åˆ›å»ºèŠ‚ç‚¹
>               dot.edge(parent, child)      # ç”»è¾¹
>               # æ›´æ–° parents[level+1] ä¸ºå½“å‰èŠ‚ç‚¹ id
>               if len(parents) <= level + 1:
>                   parents.append(child)
>               else:
>                   parents[level + 1] = child
>               parents = parents[:level + 2]  # æˆªæ–­ï¼Œé˜²æ­¢åŒçº§ä¸²æž
>   ```
>
>   ---
>
>   ## 4ï¸âƒ£ ç”Ÿæˆé«˜æ¸… PNG çš„ 3 ä¸ªå…³é”®å‚æ•°
>
>   ```python
>   dot = Digraph(
>       format="png",
>       graph_attr={
>           "rankdir": "LR",   # æ¨ªå‘æ ‘
>           "nodesep": "0.4",  # èŠ‚ç‚¹å·¦å³é—´è·
>           "ranksep": "1.2",  # å±‚ä¸Žå±‚é—´è·
>           "dpi": "600",      # åˆ†è¾¨çŽ‡
>           "size": "40,25"    # ç”»å¸ƒå®½Ã—é«˜ï¼ˆè‹±å¯¸ï¼‰
>       }
>   )
>   ```
>
>   - **rankdir=LR**ï¼šæ¨ªå‘å¸ƒå±€ï¼Œä¼ä¸šçº§æ¬¡ä»Žå·¦åˆ°å³å±•å¼€ã€‚  
>   - **dpi=600**ï¼šA4 æ‰“å°ä¹Ÿæ¸…æ™°ã€‚  
>   - **size=40,25**ï¼šé˜²æ­¢èŠ‚ç‚¹è¿‡å¤šæ—¶è¢«åŽ‹ç¼©ã€‚
>
>   ---
>
>   ## 5ï¸âƒ£ è¿è¡Œç»“æžœ
>
>   ç»ˆç«¯æ‰“å°ï¼š
>
>   ```
>   âœ… å·²ç”Ÿæˆï¼š/Users/â€¦/ä¼ä¸šçº§æ¬¡_å¹³è¡Œ.png
>   ```
>
>   ç”¨ä»»æ„å›¾ç‰‡æŸ¥çœ‹å™¨æ‰“å¼€ï¼Œä¼šçœ‹åˆ°ï¼š
>
>   ```
>   å®è¾¾é›†å›¢ â†’ å®è¾¾æŠ•èµ„ â†’ å®è¾¾åœ°äº§ â†’ å®è¾¾ç‰©ä¸š â†’ å®è¾¾ä¿å®‰
>   ```
>
>   æ¯å®¶ä¼ä¸šéƒ½æ˜¯ä¸€ä¸ªå½©è‰²çŸ©å½¢ï¼Œå±‚çº§ä¸€ç›®äº†ç„¶ã€‚
>
>   ---
>
>   ## 6ï¸âƒ£ äºŒæ¬¡å¼€å‘ Checklist
>
>   | æƒ³æ”¹ä»€ä¹ˆ     | æ”¹å“ªé‡Œ                                     |
>   | ------------ | ------------------------------------------ |
>   | çºµå‘æ ‘       | `"rankdir": "TB"`                          |
>   | æ›´å¤šå±‚çº§é¢œè‰² | æŠŠ `LEVEL_COLORS` åˆ—è¡¨åŠ é•¿                 |
>   | è¾“å‡º PDF/SVG | `format="pdf"` æˆ– `"svg"`                  |
>   | æ”¯æŒ Excel   | æŠŠ `csv.reader` æ¢æˆ `pandas.read_excel()` |
>
>   ---
>
>   è‡³æ­¤ï¼Œæ–‡ä»¶ â†’ äºŒç»´è¡¨ â†’ æ ‘ â†’ é«˜æ¸…å›¾ æ•´ä¸ªé“¾è·¯å…¨éƒ¨æ‰“é€šã€‚
